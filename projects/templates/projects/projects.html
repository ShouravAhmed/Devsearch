<!DOCTYPE html>
{% extends 'main.html' %}

<!-- load static -->
{% load static %}

<!-- styles -->
{% block styleblock %}
<link rel="stylesheet" href="{% static 'styles/main.css' %}" />
{% endblock %}

<!-- all body data -->
{% block bodyblock %}

<!-- Main Section -->
<main class="projects">
	<section class="hero-section text-center">
		<div class="container container--narrow">
			<div class="hero-section__box">
				<h2>Search for <span>Projects</span></h2>
			</div>

			<div class="hero-section__search">
				<form class="form" action="{% url 'project_list' %}" method="get">
					<div class="form__field">
						<label for="formInput#search">Search By Projects </label>
						<input class="input input--text" id="formInput#search" type="text" name="search_text" placeholder="Search by Project Title" value="{{ search_text }}" />
					</div>

					<input class="btn btn--sub btn--lg" type="submit" value="Search" />
				</form>
			</div>
		</div>
	</section>

	<!-- Search Result: DevList -->
	<section class="projectsList">
		<div class="container">
			<div class="grid grid--three">
				{% for project in project_list %}

				<div class="column">
					<div class="card project">
						<a href="{% url 'project' project.id %}" class="project">
							<img class="project__thumbnail" src="{{ project.featured_image.url }}" alt="project thumbnail" />
							<div class="card__body">
								<h3 class="project__title">{{ project.title }}</h3>
								<p>
									{% if project.owner.username %}
									<a class="project__author" href="{% url 'user_profile' project.owner.id %}">By {{project.owner.username}}</a>
									{% endif %}
								</p>
								<p class="project--rating">
									<span style="font-weight: bold">{{ project.positive_review }}%</span>
									Postitive Feedback ({{project.up_vote|add:project.down_vote}} Vote{{project.up_vote|add:project.down_vote|pluralize:"s"}})
								</p>
								<div class="project__tags">
									{% for tag in project.tags.all %}
									<span class="tag tag--pill tag--main">
										<small>{{ tag }}</small>
									</span>
									{% endfor %}
									<span class="tag tag--pill tag--main">
										<small>â‹¯</small>
									</span>
								</div>
							</div>
						</a>
					</div>
				</div>
				{% endfor %}
			</div>
		</div>
	</section>

	{% if project_list|length > 0 %} {% include 'paginator.html' with item_list=project_list %} {% endif %}
</main>

{% endblock %}
